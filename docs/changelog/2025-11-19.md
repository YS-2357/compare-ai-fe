# 2025-11-19 변경 로그

## 서비스 출시 목표 확정
- **상태 요약**: 2025년 내 상용 출시 목표 설정, 아키텍처/인증/플랜 관리 요구사항 확정
- **결정 사항**
  - FastAPI·LangGraph·Streamlit을 분리하여 운영 가능하도록 재구성
  - 인증/사용량/히스토리/플랜 확장 요구사항을 충족시키는 DB 스키마와 파일 구조 정의
  - `docs/development/roadmap-2025.md`에 연간 로드맵을 수립하고, 이후 진행 상황은 본 로그에 적재
- **다음 단계**
  1. Phase 1 (인증 및 DB 기초) 작업을 이슈화하고 우선순위 정렬
  2. FastAPI 엔드포인트 리팩터링 및 LangGraph 비동기화를 위한 기술 검토 문서 작성
  3. Streamlit 인증 UX 초안 제작 및 사용자 흐름 다이어그램 추가

---

## 1차 코드 정리

- **상태 요약**: 로드맵에 맞춰 코드 구조를 패키지화하고 실행 플로우를 단순화
- **변경 내역**
  1. `app/` 패키지 생성: `config.py`, `main.py`, `api/routes.py`, `services/langgraph.py`, `ui/streamlit_app.py`로 역할 분리 및 `__init__.py` 구성
  2. `scripts/run_app.py` 도입: FastAPI + Streamlit 동시 실행 스크립트를 `app.config.Settings` 기반 설정으로 재작성하고 루트 `main.py`는 래퍼로 단순화
  3. `.fastapi_url` 관리를 프로젝트 루트로 이동하고 Streamlit이 동일 파일을 참조하도록 수정, 포트 자동 스캔 대신 환경변수 기반 고정 포트 사용으로 실행 경로 단순화
  4. `app/services/langgraph.py`를 스트리밍 전용 구조로 개편해 LLM 노드 완료 즉시 partial 이벤트를 발행하고, FastAPI `/api/ask`는 `StreamingResponse`로 뉴라인 구분 JSON을 반환하도록 변경
  5. Streamlit UI가 스트리밍 응답을 수신하면서 모델별 진행 상황을 즉시 갱신하도록 요청 처리 흐름과 상태 관리를 업데이트
  6. `README.md`에 스트리밍 응답 형식(부분/요약 이벤트)을 문서화하고 `docs/development/roadmap-2025.md` 및 개발 로그 인덱스를 추가
- **기대 효과**
  - 모듈별 책임이 명확해져 Phase 1~5 작업 시 충돌 최소화
  - 설정/실행/스트리밍 흐름이 일관되어 신규 기여자가 빠르게 환경을 구성 가능
  - 발전 과정 기록이 확보되어 향후 릴리스 노트 작성과 팀 커뮤니케이션 효율 향상
