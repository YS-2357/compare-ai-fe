# 2025-11-25 개발 로그

- **상태 요약**: Streamlit 요약/에러 UX 개선, 공용 히스토리 요약 제거, 모델별 요약만 유지
- **변경 사항**
  1. 요약 표를 `st.table` 세로 행으로 표시하고 채팅 히스토리에 표+본문을 함께 저장 (`app/ui/streamlit_app.py`).
  2. 에러 메시지 축약기를 적용해 detail/message/body만 추출해 한 줄로 표시 (`app/ui/streamlit_app.py`, `app/services/langgraph.py`).
  3. 모든 LLM 호출을 try 블록 내로 이동하여 키/인스턴스 생성 오류도 상태로 반환 (`app/services/langgraph.py`).
  4. 공용 히스토리 요약을 제거하고 모델별 자기 요약만 프롬프트에 포함하도록 수정 (`app/services/langgraph.py`).
- **미해결/다음 단계**
  - 빠른 반복 채팅 시 스트림 중단/겹침 문제: `is_asking` 차단, 요청 ID 필터링, 취소 이벤트 전달 등 여러 시도를 했으나 효과 없어서 원복 상태로 유지. 같은 접근을 반복하지 않고 다른 전략으로 재검토 필요.
  - 에러 메시지 축약 로직이 detail/message/body 외 필드를 놓칠 수 있으니 신규 API 타입 추가 시 확인.
